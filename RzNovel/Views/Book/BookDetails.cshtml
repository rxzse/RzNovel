@using RzNovel.DTO.Resp; 
@{ 
    BookInfoRespDto bookInfoResp = (BookInfoRespDto)ViewBag.bookInfoResp;
    List<BookChapterRespDto> listChapters = (List<BookChapterRespDto>)ViewBag.listChapters;
    BookChapterAboutRespDto lastChapterAbout = (BookChapterAboutRespDto)ViewBag.lastChapterAbout;
}

<div class="row row-deck row-cards">
    <div class="col-12">
        <div class="card card-md">
            <div class="card-stamp card-stamp-lg">
                <div class="card-stamp-icon bg-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
                        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
                        <line x1="3" y1="6" x2="3" y2="19"></line>
                        <line x1="12" y1="6" x2="12" y2="19"></line>
                        <line x1="21" y1="6" x2="21" y2="19"></line>
                    </svg>
                </div>
            </div>
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-10">
                        <h3 class="h1">@bookInfoResp.bookName</h3>
                        <div class="markdown text-muted">
                            Tác giả: @bookInfoResp.authorName
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-4">
        <div class="card">
            <ul class="nav nav-tabs" data-bs-toggle="tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <a href="#info_tab" class="nav-link active" data-bs-toggle="tab" aria-selected="true" role="tab">Thông tin</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a href="#desc_tab" class="nav-link" data-bs-toggle="tab" aria-selected="false" tabindex="-1" role="tab">Mô tả</a>
                </li>
            </ul>
            <div class="card-body">
                <div class="tab-content">
                    <div class="tab-pane fade active show" id="info_tab" role="tabpanel">
                        <div class="overflow-auto">
                            <div class="mb-3">
                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24"
                                             height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                             stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <rect x="8" y="8" width="12" height="12" rx="2"></rect>
                                            <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
                                        </svg>
                                    </div>
                                    <div class="col"><strong>@bookInfoResp.categoryName</strong></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <!-- Download SVG icon from http://tabler-icons.io/i/book -->


                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book" width="24"
                                             height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                             stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
                                            <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
                                            <line x1="3" y1="6" x2="3" y2="19"></line>
                                            <line x1="12" y1="6" x2="12" y2="19"></line>
                                            <line x1="21" y1="6" x2="21" y2="19"></line>
                                        </svg>
                                    </div>
                                    <div class="col"><strong>@bookInfoResp.bookName</strong></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <!-- Download SVG icon from http://tabler-icons.io/i/book -->


                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil"
                                             width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                             fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>
                                            <line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>
                                        </svg>
                                    </div>
                                    <div class="col"><strong>@bookInfoResp.authorName</strong></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <!-- Download SVG icon from http://tabler-icons.io/i/book -->



                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-discount-check"
                                             width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                             fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1">
                                            </path>
                                            <path d="M9 12l2 2l4 -4"></path>
                                        </svg>
                                    </div>
                                    <div class="col"><strong>@bookInfoResp.wordCount</strong> chữ</div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <!-- Download SVG icon from http://tabler-icons.io/i/book -->


                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-eye" width="24"
                                             height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                             stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <circle cx="12" cy="12" r="2"></circle>
                                            <path d="M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7">
                                            </path>
                                        </svg>
                                    </div>
                                    <div class="col"><strong>@bookInfoResp.visitCount</strong> lượt xem</div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-tinder"
                                             width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                             fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M18.918 8.174c2.56 4.982 .501 11.656 -5.38 12.626c-7.702 1.687 -12.84 -7.716 -7.054 -13.229c.309 -.305 1.161 -1.095 1.516 -1.349c0 .528 .27 3.475 1 3.167c3 0 4 -4.222 3.587 -7.389c2.7 1.411 4.987 3.376 6.331 6.174z">
                                            </path>
                                        </svg>
                                    </div>
                                    <div class="col"><strong>@lastChapterAbout.chapterTotal</strong> chương</div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <div class="row">
                                    <div class="col col-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh"
                                             width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                             fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path>
                                            <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"></path>
                                        </svg>
                                    </div>
                                    <div class="col">@bookInfoResp.updateTime</div>
                                </div>
                            </div>


                        </div>

                    </div>
                    <div class="tab-pane fade" id="desc_tab" role="tabpanel">
                        <div class="overflow-auto" style="max-height: 16rem">
                            @bookInfoResp.bookDesc
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <strong>
                    @if (bookInfoResp.bookStatus == 0)
                    {

                        <strong>Dự thảo</strong>
                    }
                    @if (bookInfoResp.bookStatus == 1)
                    {

                        <strong>Đang ra</strong>
                    }
                    @if (bookInfoResp.bookStatus == 2)
                    {

                        <strong>Hoàn thành</strong>
                    }
                    @if (bookInfoResp.bookStatus == 3)
                    {

                        <strong>Tạm dừng</strong>
                    }
                </strong>

            </div>
        </div>

    </div>
    <div class="col-md-12 col-lg-8">

        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Danh sách chương</h3>
            </div>
            <div class="list-group list-group-flush overflow-auto" style="max-height: 16rem">
                @foreach (var chap in listChapters)
                {
                    <a href="/book/read/@chap.id" class="list-group-item list-group-item-action">
                        <div class="row">
                            <div class="col col-auto"><span class="badge badge-pill bg-blue"><strong>@(chap.chapterNum + 1)</strong></span></div>
                            <div class="col"><strong>@chap.chapterName</strong></div>
                        </div>
                    </a>
                }
            </div>
            <div class="card-footer">

                <div class="row">
                    <div class="col col-auto"><span class="badge badge-outline text-purple">Mới nhất</span></div>
                    <div class="col col-auto">
                        <a href="/book/read/@lastChapterAbout.chapterInfo.id">
                            <strong>Chương @(lastChapterAbout.chapterInfo.chapterNum+1) - @lastChapterAbout.chapterInfo.chapterName</strong>

                        </a>
                    </div>

                    <div class="col"><strong class="float-end" name="timeAgo">@lastChapterAbout.chapterInfo.chapterUpdateTime</strong></div>
                </div>
            </div>
        </div>
    </div>

</div>